<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Angels Attendance</title>
<style>
    /* Reset Styles */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: #f0f4f8; color: #333; }

    /* Layout Grid */
    .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; padding: 40px; }

    /* Cards */
    .card { background: #fff; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease; }
    .card:hover { transform: translateY(-5px); }

    /* Headings */
    h2 { margin-bottom: 15px; color: #1d3557; }

    /* Forms */
    label { display: block; margin-bottom: 5px; font-weight: bold; color: #1d3557; }
    input, select, button { width: 100%; padding: 10px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #ccc; font-size: 14px; }
    input:focus, select:focus { outline: none; border-color: #457b9d; }
    button { background: #457b9d; color: #fff; border: none; cursor: pointer; transition: background 0.3s ease; }
    button:hover { background: #1d3557; }

    /* Admin Section */
    #adminSection { display: none; }

    /* Table */
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 10px; text-align: center; border-bottom: 1px solid #ddd; }
    th { background: #a8dadc; color: #1d3557; }

    /* Responsive */
    @media (max-width: 768px) {
        .container { grid-template-columns: 1fr; padding: 20px; }
    }
</style>
</head>
<body>

<div class="container">
    <!-- Member Section -->
    <div class="card" id="memberSection">
        <h2>تسجيل الحضور</h2>
        <label for="memberSelect">اختر اسمك:</label>
        <select id="memberSelect"></select>

        <label for="weekSelect">اختر الأسبوع:</label>
        <select id="weekSelect"></select>

        <button id="markAttendanceBtn">تسجيل الحضور</button>

        <div id="memberMessage" style="margin-top:10px;color:green;"></div>
    </div>

    <!-- Admin Login -->
    <div class="card" id="adminLogin">
        <h2>تسجيل دخول الأدمن</h2>
        <label for="adminPassword">كلمة المرور:</label>
        <input type="password" id="adminPassword" placeholder="ادخل كلمة المرور">
        <button id="adminLoginBtn">دخول</button>
        <div id="adminLoginMessage" style="margin-top:10px;color:red;"></div>
    </div>

    <!-- Admin Section -->
    <div class="card" id="adminSection">
        <h2>لوحة الأدمن (عرض فقط)</h2>
        <table>
            <thead>
                <tr>
                    <th>الاسم</th>
                    <th>الحضور</th>
                    <th>النقاط</th>
                </tr>
            </thead>
            <tbody id="adminTableBody"></tbody>
        </table>
        <button id="adminLogoutBtn" style="margin-top:15px;">تسجيل خروج</button>
    </div>
</div>

<script>
    // بيانات تجريبية
    const members = [
        {id:1, name:'محمد'},
        {id:2, name:'سارة'},
        {id:3, name:'أحمد'}
    ];
    const weeks = [
        {id:1, name:'الأسبوع 1'},
        {id:2, name:'الأسبوع 2'},
        {id:3, name:'الأسبوع 3'}
    ];
    const attendanceRecords = [];

    // تهيئة القوائم
    const memberSelect = document.getElementById('memberSelect');
    members.forEach(m => { const opt = document.createElement('option'); opt.value=m.id; opt.textContent=m.name; memberSelect.appendChild(opt); });

    const weekSelect = document.getElementById('weekSelect');
    weeks.forEach(w => { const opt = document.createElement('option'); opt.value=w.id; opt.textContent=w.name; weekSelect.appendChild(opt); });

    const memberMessage = document.getElementById('memberMessage');

    document.getElementById('markAttendanceBtn').addEventListener('click',()=>{
        const memberId = parseInt(memberSelect.value);
        const weekId = parseInt(weekSelect.value);
        const exists = attendanceRecords.find(r=>r.memberId===memberId && r.weekId===weekId);
        if(exists){
            memberMessage.textContent = 'لقد قمت بتسجيل حضورك لهذا الأسبوع بالفعل';
        }else{
            attendanceRecords.push({memberId, weekId});
            memberMessage.textContent = 'تم تسجيل حضورك بنجاح';
        }
    });

    // Admin login
    const adminPasswordInput = document.getElementById('adminPassword');
    const adminLoginBtn = document.getElementById('adminLoginBtn');
    const adminLoginMessage = document.getElementById('adminLoginMessage');
    const adminSection = document.getElementById('adminSection');
    const adminTableBody = document.getElementById('adminTableBody');
    const adminLoginCard = document.getElementById('adminLogin');
    const adminLogoutBtn = document.getElementById('adminLogoutBtn');

    adminLoginBtn.addEventListener('click',()=>{
        const pw = adminPasswordInput.value;
        if(pw==='admin123'){
            adminLoginCard.style.display='none';
            adminSection.style.display='block';
            renderAdminTable();
        }else{
            adminLoginMessage.textContent='كلمة المرور غير صحيحة';
        }
    });

    adminLogoutBtn.addEventListener('click',()=>{
        adminSection.style.display='none';
        adminLoginCard.style.display='block';
        adminPasswordInput.value='';
    });

    function renderAdminTable(){
        adminTableBody.innerHTML='';
        members.forEach(m=>{
            const attendanceCount = attendanceRecords.filter(r=>r.memberId===m.id).length;
            const points = attendanceCount * 10; // نقاط تجريبية
            const tr = document.createElement('tr');
            tr.innerHTML=`<td>${m.name}</td><td>${attendanceCount}</td><td>${points}</td>`;
            adminTableBody.appendChild(tr);
        });
    }
</script>

</body>
</html>
