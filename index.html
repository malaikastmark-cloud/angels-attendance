<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل الأعضاء</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
</head>
<body>
    <h1>تسجيل الأعضاء</h1>
    <form id="registrationForm">
        <input type="text" id="name" placeholder="اسم العضو" required>
        <input type="email" id="email" placeholder="البريد الإلكتروني" required>
        <button type="submit">تسجيل</button>
    </form>
    <div id="membersList"></div>
    <script src="app.js"></script>
</body>
</html>
body {
    font-family: Arial, sans-serif;
    margin: 20px;
}

h1 {
    color: #333;
}

form {
    margin-bottom: 20px;
}

input {
    display: block;
    margin: 10px 0;
    padding: 10px;
    width: 300px;
}

button {
    padding: 10px 15px;
    background-color: #28a745;
    color: white;
    border: none;
    cursor: pointer;
}

button:hover {
    background-color: #218838;
}
// إعداد Firebase
const firebaseConfig = {
    apiKey: "AIzaSyBHso7dhJC7P_akMQQ0oN_8ZMTQqsRoVbY",
    authDomain: "angel-meeting-attendance.firebaseapp.com",
    projectId: "angel-meeting-attendance",
    storageBucket: "angel-meeting-attendance.appspot.com",
    messagingSenderId: "100624957418",
    appId: "1:100624957418:web:291d087797cec9ec79fc93",
    measurementId: "G-2TTXV6CD8F"
};

// تهيئة Firebase
const app = firebase.initializeApp(firebaseConfig);
const database = firebase.database();

// إضافة حدث عند إرسال النموذج
document.getElementById('registrationForm').addEventListener('submit', function(event) {
    event.preventDefault();
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;

    // حفظ البيانات في Firebase
    database.ref('members').push({
        name: name,
        email: email
    }).then(() => {
        alert('تم تسجيل العضو بنجاح!');
        document.getElementById('registrationForm').reset();
        loadMembers();
    }).catch((error) => {
        console.error('خطأ في التسجيل:', error);
    });
});

// تحميل الأعضاء من Firebase
function loadMembers() {
    database.ref('members').on('value', (snapshot) => {
        const membersList = document.getElementById('membersList');
        membersList.innerHTML = ''; // مسح القائمة السابقة

        snapshot.forEach((childSnapshot) => {
            const member = childSnapshot.val();
            const div = document.createElement('div');
            div.textContent = `اسم: ${member.name}, بريد: ${member.email}`;
            membersList.appendChild(div);
        });
    });
}

// تحميل الأعضاء عند فتح الصفحة
loadMembers();
